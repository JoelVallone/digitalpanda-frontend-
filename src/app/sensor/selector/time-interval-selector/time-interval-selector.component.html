<div [formGroup]="timeIntervalForm">

    <div>


        <div formGroupName="from">
            <label for="fromDate">From  </label>
            <input *ngIf="!displayDatePicker" id="fromDate" class="form-control" placeholder="yyyy-mm-dd" name="dpFromDate" formControlName="date">
            <div *ngIf="timeIntervalForm.get('from').get('date').errors && !displayDatePicker">
                <div *ngIf="timeIntervalForm.get('from').get('date').errors.rawDateFormat">Expected date format: yyyy-mm-dd</div>
            </div>
            <ngb-timepicker formControlName="time" [seconds]="true" [hourStep]="1" [minuteStep]="1" [secondStep]="1"></ngb-timepicker>
        </div>
        <div class="input-group-append">
            <button class="btn btn-outline-secondary" (click)="toggleDatePicker()" type="button">
                {{ displayDatePicker ?  'Manual input.' : 'Use calendar' }}
              </button>
            <button class="btn btn-outline-secondary" (click)="setDefaultDates()" type="button">
                    Rst. date
                  </button>
            <button class="btn btn-outline-secondary" (click)="setDefaultTimes()" type="button">
                            Rst. time
                          </button>
        </div>
        <ngb-datepicker *ngIf="displayDatePicker" #dp (select)="onDateSelection($event)" [displayMonths]="1" [dayTemplate]="t" outsideDays="hidden">
            <ng-template #t let-date let-focused="focused">
                <span class="custom-day" [class.focused]="focused" [class.range]="isRange(date)" [class.faded]="isHovered(date) || isInside(date)" (mouseenter)="hoveredDate = date" (mouseleave)="hoveredDate = null">
            {{ date.day }}
          </span>
            </ng-template>
        </ngb-datepicker>
        <div formGroupName="to">
            <label for="toDate"> To  </label>
            <input *ngIf="!displayDatePicker" id="toDate" class="form-control" placeholder="yyyy-mm-dd" name="dpToDate" formControlName="date">
            <div *ngIf="timeIntervalForm.get('to').get('date').errors && !displayDatePicker">
                <div *ngIf="timeIntervalForm.get('to').get('date').errors.rawDateFormat">Expected date format: yyyy-mm-dd</div>
            </div>
            <ngb-timepicker formControlName="time" [seconds]="true" [hourStep]="1" [minuteStep]="1" [secondStep]="1"></ngb-timepicker>
        </div>
        <div *ngIf="timeIntervalForm.errors">
            <div *ngIf="timeIntervalForm.errors.timestampPrecedence">Start interval before end interval</div>
        </div>

    </div>
</div>